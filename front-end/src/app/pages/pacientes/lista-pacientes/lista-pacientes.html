<p-card>
  <div class="header">
    <h2>Lista de Pacientes</h2>

    <div class="actions">
      <span class="p-input-icon-left">
        <input
          type="text"
          pInputText
          placeholder="Pesquisar por nome ou CPF..."
          [(ngModel)]="filtro"
          (input)="filtrarPacientes()"
        />
      </span>

      <button
        pButton
        label="Novo Paciente"
        icon="pi pi-plus"
        class="p-button-success"
        (click)="novoPaciente()"
        routerLink="/cadastro-paciente"
      ></button>
    </div>
  </div>

  <p-table
    [value]="pacientesFiltrados"
    responsiveLayout="scroll"
    styleClass="p-datatable-sm"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>Nome</th>
        <th>CPF</th>
        <th>Idade</th>
        <th>Sexo</th>
        <th>Tipo Sanguíneo</th>
        <th style="width: 160px; text-align: center">Ações</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-paciente>
      <tr>
        <td>{{ paciente.nome }}</td>
        <td>{{ paciente.cpf }}</td>
        <td>{{ paciente.idade }}</td>
        <td>{{ paciente.sexo }}</td>
        <td>{{ paciente.tipoSanguineo }}</td>
        <td style="text-align: center">
          <button
            pButton
            icon="pi pi-eye"
            class="p-button-rounded p-button-info p-button-sm"
            pTooltip="Ver Prontuário"
            tooltipPosition="top"
            (click)="abrirProntuario(paciente)"
          ></button>

          <button
            pButton
            icon="pi pi-trash"
            class="p-button-rounded p-button-danger p-button-sm ml-2"
            pTooltip="Excluir Paciente"
            tooltipPosition="top"
            (click)="excluirPaciente(paciente)"
          ></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</p-card>
